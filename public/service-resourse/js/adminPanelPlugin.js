function _classCallCheck(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(a,t.key,t)}}function _createClass(a,e,n){return e&&_defineProperties(a.prototype,e),n&&_defineProperties(a,n),a}!function(a){a.fn.parallaxJson=function(e){var n=function(){function e(n){_classCallCheck(this,e),this.jsonElement=n;var t=a("<div><div/>");t.addClass("parallax-json-wrap"),this.jsonElement.wrap(t),this.container=this.jsonElement.parent(),this.buildForm()}return _createClass(e,[{key:"getDefaultValue",value:function(){return{description:"",image_src:"",scale:1,orientation:"right"}}},{key:"updateJsonValue",value:function(){var e=this.getDefaultValue();this.container.find(".parallax_form_item").each(function(n){e[a(this).attr("data-name")]=a(this).val()}),e.orientation=this.container.find("._parallax_parallax_orientation option:selected").attr("value");var n=JSON.stringify(e);console.log("onChancheUpdate",n),this.jsonElement.val(n)}},{key:"buildForm",value:function(){var e=this.getDefaultValue();try{var n=a.parseJSON(this.jsonElement.val());e=a.extend({},e,n)}catch(a){}this._makeImageSourceForm(e.image_src),this._makeDescriptionForm(e.description),this._makeParallaxZoomForm(e.scale),this._makeParallaxOrientationForm(e.orientation),this.container.append("<hr>")}},{key:"_makeImageSourceForm",value:function(e){var n=this,t=a('<div class="form-group"></div>');t.html('<label for="">Посилання на картинку</label>\n                    <div class="input-group lfm-input-group">\n                    <input type="text" max="255" data-name="image_src" class="form-control parallax_form_item _parallax_image_src" placeholder="" >\n                    <div class="input-group-append"><button class="btn btn-outline-secondary button_select_image " type="button">Вибрати зображення  </button>\n                    </div></div> '),this.container.append(t);var o=t.find("._parallax_image_src");t.find(".button_select_image").on("click",function(a){return window.open("/admin/laravel-filemanager?type=image","FileManager","width=900,height=600"),window.SetUrl=function(a){var e=a.map(function(a){return a.url}).join(",");o.val("").val(e).trigger("change")},!1}),o.val(e),o.on("change",function(){n.updateJsonValue()})}},{key:"_makeDescriptionForm",value:function(e){var n=this,t=a('<div class="form-group"></div>'),o=a('<label for="">Опис</label>'),i=a('<textarea   data-name="description"  class="form-control parallax_form_item _parallax_description"  placeholder="Опис"></textarea>');i.val(e),i.ckeditor(function(a){this.on("change",function(){n.updateJsonValue()})}),t.append(o),t.append(i),this.container.append(t)}},{key:"_makeParallaxZoomForm",value:function(e){var n=this,t=a('<div class="form-group"></div>'),o=a('<label for="">Zoom</label>'),i=a('<input type="number" data-name="scale" step="0.1" max="10" min="1" class="form-control parallax_form_item _parallax_parallax_scale"  placeholder="">');i.val(e),i.on("change",function(){n.updateJsonValue()}),t.append(o),t.append(i),this.container.append(t)}},{key:"_makeParallaxOrientationForm",value:function(e){var n=this,t=a('<div class="form-group"></div>'),o=a('<label for="">Напрямок паралаксу (звідки)</label>'),i=a('<select  class="form-control _parallax_parallax_orientation"  placeholder=""></select>');i.append('<option value="up">Вгору</option>'),i.append('<option value="bottom">Вниз</option>'),i.append('<option value="left">Вліво</option>'),i.append('<option value="right">Вправо</option>'),i.find(" option[value="+e+"]").prop("selected",!0),i.on("change",function(){n.updateJsonValue()}),t.append(o),t.append(i),this.container.append(t)}}]),e}();return this.each(function(){new n(a(this))})}}(jQuery);
